var r=Object.defineProperty,t=Object.defineProperties,e=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,o=(t,e,l)=>e in t?r(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l,a=(r,t)=>{for(var e in t||(t={}))i.call(t,e)&&o(r,e,t[e]);if(l)for(var e of l(t))n.call(t,e)&&o(r,e,t[e]);return r},s=(r,l)=>t(r,e(l));import{C as c}from"./vendor-6170d30a.js";const f=9,u=14;function y(r){return[Math.floor(r/9),r%9]}function d(r,t){return 9*r+t}function m(r){return r<0?"0:00":`${Math.floor(r/60)}:${r%60<10?"0"+r%60:r%60}`}function _(r){let t=r.length-3,e=0;for(;;){let l=r.indexOf("QU",e);if(-1===l)break;t--,e=l+1}let l=10,i=10;for(;t>0;)t--,l+=i,i+=10;return l}function A(r,t){const[e,l]=y(r),[i,n]=y(t);return l===n?1===Math.abs(e-i):(e===i||e-i==1-l%2*2)&&1===Math.abs(l-n)}function p(r,t){const[e,l]=y(r),[i,n]=y(t);if(l===n)return e-i==-1?0:e-i==1&&6;if(e===i)return l-n==-1?n%2==0?4:2:l-n==1&&(n%2==0?8:10);if(n%2==0){if(e-i==-1){if(l-n==1)return 10;if(l-n==-1)return 2}return!1}if(e-i==1){if(l-n==1)return 8;if(l-n==-1)return 4}return!1}const h=[...Array(24).fill("E"),...Array(16).fill("A"),...Array(15).fill("O"),...Array(15).fill("T"),...Array(13).fill("I"),...Array(13).fill("N"),...Array(13).fill("R"),...Array(10).fill("S"),...Array(7).fill("L"),...Array(5).fill("U"),...Array(8).fill("D"),...Array(5).fill("G"),...Array(6).fill("C"),...Array(6).fill("M"),...Array(4).fill("B"),...Array(4).fill("P"),...Array(5).fill("H"),...Array(4).fill("F"),...Array(4).fill("W"),...Array(4).fill("Y"),...Array(3).fill("V"),...Array(2).fill("K"),...Array(2).fill("J"),...Array(2).fill("X"),...Array(2).fill("Qu"),...Array(2).fill("Z")],b=h.length,w=[60,120,180,240,300];function g(){const r={time_limit:180};try{const t=window.localStorage.getItem("options_time_limit");null!=t&&(r.time_limit=parseInt(t,10))}catch(t){}return r}function O(r){try{window.localStorage.setItem("options_time_limit",r)}catch(t){}}const v=function(){const{subscribe:r,update:t}=c({board_tiles:null,score_card:null,start_time:null,timer_text:null,is_finished:!1});let e=[...h],l=Array(9),i=Array(9).fill(null).map((()=>[]));function n(r){const[t,e]=y(r);return i[e][t].value.toUpperCase()}return{subscribe:r,start:({time_limit:r})=>t((()=>{e=[...h],function(r){for(let t=r.length-1;t>0;t--){const e=Math.floor(Math.random()*(t+1));[r[t],r[e]]=[r[e],r[t]]}}(e),l=Array(9),i=Array(9).fill(null).map((()=>[]));for(let r=0;r<14;r++)for(let t=0;t<9;t++){const n=9*r+t;i[t].push({index:n,value:e[n%b]}),l[t]=n}const n=+new Date,o=setInterval((()=>{t((t=>{if(t.start_time!==n)return clearInterval(o),t;const e=+new Date,l=Math.round((e-n)/1e3);if(l>r){clearInterval(o);const e=function(){try{return JSON.parse(window.localStorage.getItem("scores"))}catch(r){return null}}()||{best_word:"",game_types:w.map((r=>({time_limit:r,score:0})))},l=e.game_types.find((t=>t.time_limit===r));l&&l.score<t.score_card.score&&(l.score=t.score_card.score);let i=_(e.best_word);for(const r of t.score_card.matched_words){const t=_(r);t>i&&(e.best_word=r,i=t)}return function(r){try{window.localStorage.setItem("scores",JSON.stringify(r))}catch(t){return null}}(e),s(a({},t),{is_finished:!0,timer_text:m(0)})}return s(a({},t),{timer_text:m(r-l)})}))}),1e3);return{board_tiles:i,score_card:{score:0,matched_words:[]},start_time:n,timer_text:m(r),is_finished:!1}})),match:(r,o)=>t((t=>{if(r.length<3)return t;const c=r.map(n).join("");if(!o.isWord(c.toLowerCase()))return t;for(const e of r){const[r,t]=y(e);i[t][r]=null}for(let r=0;r<9;r++)if(i[r].includes(null)){i[r]=i[r].filter((r=>r));const t=14-i[r].length;for(let n=0;n<t;n++)l[r]+=9,i[r].push({index:l[r],value:e[l[r]%b]})}return s(a({},t),{board_tiles:[...i],score_card:{matched_words:[...t.score_card.matched_words,c],score:t.score_card.score+_(c)}})})),quit:()=>t((r=>s(a({},r),{start_time:null,is_finished:!0})))}}();export{f as B,w as T,_ as a,u as b,d as c,p as d,g as e,v as f,m as g,A as i,O as s};
